# Listar filas SQS
aws --endpoint-url=http://localhost:4566 sqs list-queues

# Limpar fila SQS
aws --endpoint-url=http://localhost:4566 sqs purge-queue --queue-url http://localhost:4566/000000000000/account-transaction.fifo
aws --endpoint-url=http://localhost:4566 sqs purge-queue --queue-url http://localhost:4566/000000000000/account-transaction-dlq.fifo

# Listar mensagens SQS sem consumi-las
aws --endpoint-url=http://localhost:4566 sqs receive-message --queue-url http://localhost:4566/000000000000/account-transaction.fifo --attribute-names All --message-attribute-names All --max-number-of-messages 10
aws --endpoint-url=http://localhost:4566 sqs receive-message --queue-url http://localhost:4566/000000000000/account-transaction-dlq.fifo --attribute-names All --message-attribute-names All --max-number-of-messages 10

# Listar todos os itens do DynamoDB
aws --endpoint-url=http://localhost:4566 dynamodb scan --table-name account

# Deletar todos os itens de uma tabela do DynamoDB
aws --endpoint-url=http://localhost:4566 dynamodb scan --table-name transaction --select "ALL_ATTRIBUTES" --query "Items[].[transactionId.S]" --output text | xargs -I {} aws --endpoint-url=http://localhost:4566 dynamodb delete-item --table-name transaction --key '{"transactionId":{"S":"{}"}}'

# Deletar uma tabela do DynamoDB
aws --endpoint-url=http://localhost:4566 dynamodb delete-table --table-name transactions

aws dynamodb create-table --endpoint-url="http://localhost:4566" --region="sa-east-1" --table-name="transaction" --billing-mode PAY_PER_REQUEST --attribute-definitions AttributeName=transactionId,AttributeType=S AttributeName=accountId,AttributeType=S AttributeName=timestamp,AttributeType=S --key-schema AttributeName=transactionId,KeyType=HASH --global-secondary-indexes '[{"IndexName": "AccountIdIndex","KeySchema": [{"AttributeName": "accountId","KeyType": "HASH"},{"AttributeName": "timestamp","KeyType": "RANGE"}],"Projection": {"ProjectionType": "ALL"}}]'
